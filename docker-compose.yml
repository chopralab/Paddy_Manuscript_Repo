version: '3.8'

services:
  test:
    container_name: JTVAE_container
    image: 'jtvae:v1.0'
    environment:
      - VECTOR_INPUT=${VECTOR_INPUT}
      - OUTPUT_PATH=${OUTPUT_PATH}
    command: ["--Vector=${VECTOR_INPUT}", "--OUTPUT=${OUTPUT_PATH}"]
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: 3
              capabilities: [gpu]
    volumes:
      - my_volume:/data

volumes:
  my_volume: